<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Doutora Lelê - Com Assinatura</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            height: 100vh;
            font-family: 'Press Start 2P', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            user-select: none;
            cursor: crosshair;
            
            /* CONFIGURAÇÃO DO FUNDO */
            background-color: #220000; 
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* TELA DE START */
        #tela-start {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.7); z-index: 999;
        }
        #start-heart { width: 120px; height: 120px; cursor: pointer; transition: transform 0.2s; }
        #start-heart:hover { transform: scale(1.15); }
        .piscar { font-size: 12px; margin-top: 20px; animation: piscar 1s infinite; }
        @keyframes piscar { 0%,100%{opacity:1;}50%{opacity:0;} }

        /* HUD */
        #hud { position: fixed; top: 20px; width: 80%; text-align: center; z-index: 10; }
        #barra-container { width: 100%; height: 20px; border: 3px solid white; }
        #barra { height: 100%; width: 100%; background: red; }
        #contador { margin-top: 10px; font-size: 12px; }

        /* FINAL */
        #tela-final { position: fixed; top:0; left:0; width:100%; height:100%; display:none; align-items:center; justify-content:center; flex-direction:column; background:black; z-index:1000; text-align:center; }
        #coracao-grande-final { width: 350px; height: 350px; }
        #texto-final { margin-top: 20px; font-size: 28px; line-height: 1.5; }

/* ===== MOBILE ADAPT ===== */
html, body{
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
}

/* corrige altura real do celular */
:root{
    --vh: 1vh;
}

body{
    height: calc(var(--vh) * 100);
}

/* HUD responsivo */
@media (max-width: 768px){

    #hud{
        width: 90%;
        top: 10px;
    }

    #texto-final{
        font-size: 20px;
        padding: 0 20px;
    }

    #coracao-grande-final{
        width: 70vw;
        height: 70vw;
    }

    #start-heart{
        width: 90px;
        height: 90px;
    }

    .piscar{
        font-size: 10px;
    }
}

    </style>
</head>
<body>

<div id="tela-start">
    <img id="start-heart" src="heart.png">
    <div class="piscar">toque no coração</div>
</div>

<div id="hud">
    <div id="barra-container"><div id="barra"></div></div>
    <div id="contador">0 / 30</div>
</div>

<div id="tela-final">
    <img id="coracao-grande-final" src="heart.png">
    <div id="texto-final">eu te amo</div>
</div>

<script>
/* altura real do celular (resolve o bug do vh) */
function setRealVh(){
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}
setRealVh();
window.addEventListener('resize', setRealVh);

// (restante do seu script original permanece igual...)

/* ===== CONVERSOR DE TOQUE PARA CLIQUE ===== */
document.addEventListener("touchstart", function(e){

    const touch = e.changedTouches[0];

    const eventoMouse = new MouseEvent("click", {
        bubbles: true,
        cancelable: true,
        clientX: touch.clientX,
        clientY: touch.clientY
    });

    touch.target.dispatchEvent(eventoMouse);

}, {passive:false});

/* desbloqueia audio mobile */
document.body.addEventListener('touchstart', function() {
    if(!audioCtx){
        try{
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        }catch(e){}
    }
}, {once:true});
</script>

</body>
</html>
