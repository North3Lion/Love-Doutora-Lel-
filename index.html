<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Cora√ß√µes</title>
<style>
  html,body{margin:0;padding:0;height:100%;background:#0b0b14;overflow:hidden;font-family:Arial,Helvetica,sans-serif}
  #tela-start{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(ellipse at center,#1a1a2e 0%,#0b0b14 70%);color:#fff;z-index:5}
  #tela-start .card{padding:24px 28px;border-radius:18px;background:rgba(255,255,255,.06);backdrop-filter:blur(8px);text-align:center}
  #tela-start h1{margin:0 0 8px 0;font-size:28px}
  #tela-start p{margin:0;font-size:14px;opacity:.85}
  #hud{position:fixed;left:12px;right:12px;top:12px;height:16px;border-radius:10px;background:rgba(255,255,255,.15);overflow:hidden;z-index:3}
  #bar{height:100%;width:0%;background:linear-gradient(90deg,#ff4d88,#ff7aa8);transition:width .2s ease}
  #mensagem{position:fixed;inset:0;display:none;align-items:center;justify-content:center;color:#fff;font-size:42px;text-align:center;z-index:6}
  #campo{position:fixed;inset:0}
  .heart{position:absolute;user-select:none;-webkit-user-drag:none;touch-action:manipulation}
</style>
</head>
<body>

<div id="tela-start">
  <div class="card">
    <h1>Toque para come√ßar ‚ù§Ô∏è</h1>
    <p>Estoure os cora√ß√µes at√© completar a barra</p>
  </div>
</div>

<div id="hud"><div id="bar"></div></div>
<div id="mensagem">EU TE AMO üíñ</div>
<div id="campo"></div>

<script>
// ================= IMAGEM EMBUTIDA =================
const HEART_SRC = "data:image/png;base64,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";

// ================= L√ìGICA DO JOGO =================
const campo = document.getElementById('campo');
const start = document.getElementById('tela-start');
const bar = document.getElementById('bar');
const msg = document.getElementById('mensagem');
let progresso = 0; let rodando = false; let spawnTimer;

function iniciarJogo(){
  if(rodando) return; rodando = true;
  start.style.display = 'none';
  spawnTimer = setInterval(criarCoracao, 700);
}

function criarCoracao(){
  const img = document.createElement('img');
  img.className = 'heart';
  img.src = HEART_SRC;
  const size = Math.max(56, Math.min(120, window.innerWidth*0.18));
  img.style.width = size+'px';
  img.style.height = size+'px';
  const x = Math.random()*(window.innerWidth - size);
  const y = Math.random()*(window.innerHeight - size);
  img.style.left = x+'px'; img.style.top = y+'px';
  campo.appendChild(img);

  const remover = ()=>{ img.remove(); };
  setTimeout(remover, 3500);

  img.addEventListener('mousedown', ()=>{
    progresso = Math.min(100, progresso+5);
    bar.style.width = progresso+'%';
    img.remove();
    if(progresso>=100){ finalizar(); }
  });
}

function finalizar(){
  clearInterval(spawnTimer);
  document.querySelectorAll('.heart').forEach(h=>h.remove());
  msg.style.display='flex';
}

// ================= MOBILE TOUCH FIX =================
function simularClique(x,y){
  const el = document.elementFromPoint(x,y);
  if(!el) return;
  const ev = new MouseEvent('mousedown',{bubbles:true,cancelable:true,clientX:x,clientY:y});
  el.dispatchEvent(ev);
}

document.addEventListener('touchstart', (e)=>{
  const t=e.changedTouches[0];
  simularClique(t.clientX,t.clientY);
},{passive:true});

start.addEventListener('click', iniciarJogo);
start.addEventListener('touchstart', (e)=>{ e.preventDefault(); iniciarJogo(); }, {passive:false});

// desbloqueio de √°udio (caso exista AudioContext externo)
let audioCtx;
try{ audioCtx = new (window.AudioContext||window.webkitAudioContext)(); }catch(e){}

document.body.addEventListener('touchstart', ()=>{
  if(audioCtx && audioCtx.state==='suspended') audioCtx.resume();
},{once:true});
</script>
</body>
</html>
